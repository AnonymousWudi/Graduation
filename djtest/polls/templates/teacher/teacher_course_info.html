{% extends 'teacher/teacher_base.html' %}

{% block title %}课程信息{% endblock %}

{% block main %}
    <nav class="breadcrumb"><i class="Hui-iconfont">&#xe67f;</i> <a class="maincolor" href="/polls/teacher/index/">首页</a> <span class="c-999 en">&gt;</span><span class="c-666">课程</span></nav>
        <div class="Hui-article">
            <div class="Hui-wraper">
                <h2 class="page_title">课程信息</h2>
                <p><strong>课程名称：</strong>{{ course.c_name }}</p>
                <p><strong>任课教师：</strong>{{ course.c_teacher.t_name }}</p>
                <p><strong>课程学院：</strong>{{ course.c_academy.a_name }}</p>
                <p><strong>课程专业：</strong>{{ course.c_major.m_name }}</p>
                <p><strong>课程讨论组：</strong>{% if group %}
                        {{ group.g_name }}
                    {% else %}
                        <a class="btn btn-primary radius" href="#myModal" data-toggle="modal">创建一个</a>
                    {% endif %}
                </p>
                <p><strong>课程日历：</strong></p>
                <table class="table table-border table-bordered table-striped">
                    <thead>
                        <tr>
                            <th class="text-c"></th>
                            <th class="text-c">星期一</th>
                            <th class="text-c">星期二</th>
                            <th class="text-c">星期三</th>
                            <th class="text-c">星期四</th>
                            <th class="text-c">星期五</th>
                            <th class="text-c">星期六</th>
                            <th class="text-c">星期日</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for sch in schedule %}
                            {% if sch.type == 1 %}
                                <tr><th class="text-c">{{ sch.status }}</th>
                            {% elif sch.type == 2 %}
                                <td class="text-c">
                                    {{ sch.course.ci_id.c_name }}
                                </td></tr>
                            {% elif sch.type == 3 %}
                                <td></td></tr>
                            {% elif sch.type == 4 %}
                                <td class="text-c">
                                    {{ sch.course.ci_id.c_name }}<br>
                                    {{ sch.course.ci_id.c_teacher.t_name }}<br>
                                    {{ sch.course.ci_module }}节&nbsp;
                                    {% if sch.course.ci_type == 0 %}
                                        单双周
                                    {% elif sch.course.ci_type == 1 %}
                                        单周
                                    {% elif sch.course.ci_type == 2 %}
                                        双周
                                    {% endif %}
                                    <br>
                                    {{ sch.course.ci_classroom }}
                                </td>
                            {% elif sch.type == 5%}
                                <td></td>
                            {% endif %}
                        {% endfor %}
                    </tbody>
                </table>
                <br>
                <a class="btn btn-primary radius" href="javascript:history.back()">返回</a>
            </div>
            <br>
        </div>

        <!-- 弹出框代码 -->
        <div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>创建讨论组</h3>
                <a class="close" data-dismiss="modal" aria-hidden="true" href="javascript:void();">×</a> </div>
            <div class="modal-body">
                <form action="/polls/teacher/group/create/" method="post" id="submitForm">
                    {% csrf_token %}
                    <div class="row cl">
                        <label class="form-label col-3">课程：</label>
                        <div class="formControls col-5">
                            <input type="hidden" name="group_course" value="{{ course.c_id }}" />
                            <p>{{ course.c_name }}</p>
                        </div>
                        <div class="col-5"> </div>
                    </div>
                    <div class="row cl">
                        <label class="form-label col-3">讨论组名称：</label>
                        <div class="formControls col-5">
                            <input class="input-text radius" type="text" name="group_name"  />
                        </div>
                        <div class="col-5"> </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn radius btn-primary" onclick="document.getElementById('submitForm').submit();">确定</button>
                <button class="btn radius" data-dismiss="modal" aria-hidden="true">关闭</button>
            </div>
        </div>
{% endblock %}